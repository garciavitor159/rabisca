const form=document.querySelector("#form");const nomeUsuario=document.querySelector("#nome-usuario");const email=document.querySelector("#email");const senha=document.querySelector("#senha");const perguntaSeguranca=document.querySelector("#pergunta-seguranca");const resposta=document.querySelector("#resposta");const template=document.querySelector("#template");const fundoModalAlerta=document.querySelector("#fundo-modal-alerta");const modalAlerta=document.querySelector("#modal-alerta");const msgModalAlerta=document.querySelector("#msg-modal-alerta");const enviarDados=async(params,url,metodo)=>{try{let resposta=null;switch(metodo){case "GET":url+=`?${new URLSearchParams(params).toString()}`;resposta=await axiosCustomizado.get(url);break;case "POST":resposta=await axiosCustomizado.post(url,params);break;case "PUT":resposta=await axiosCustomizado.put(url,params);break;case "DELETE":resposta=await axiosCustomizado.delete(url,{data:params});break;default:return retornarResposta({sucesso:!1,dados:{},msg:"Erro: Método de requisição inválido. Por favor, tente novamente mais tarde.",})}
return retornarResposta(resposta.data)}catch(err){return retornarResposta(err.response.data)}};const retornarResposta=(resposta)=>{const{sucesso,dados,msg}=resposta;return{sucesso:sucesso||!1,dados:dados||{},msg:msg||"Erro: Não foi possível completar sua requisição. Por favor, tente novamente mais tarde.",}};const alternarModalAlerta=(exibir,msg)=>{alternarExibicao([fundoModalAlerta,modalAlerta],exibir);if(!exibir){setTimeout(()=>(msgModalAlerta.textContent=""),500);return}
msgModalAlerta.textContent=msg};const alternarExibicao=(els,exibir)=>{els.forEach((el)=>el.classList.toggle("escondido",!exibir))};const redirecionar=(msg,url)=>{localStorage.setItem("msg-redirecionamento",msg);window.location.href=url};const validarCampoObrigatorio=(campo,valCampo,maxCarac)=>campo.checkValidity()&&valCampo&&valCampo.length<=maxCarac;const exibirErr=(msgErr,campoErr)=>{alternarModalAlerta(!0,msgErr);limparCampo(campoErr)};const limparCampo=(campo)=>{campo.value="";campo.blur()};const validarEmail=(email,valEmail)=>email.checkValidity()&&new RegExp(/^[^\s@]+@[^\s@]+\.[^\s@]+$/).test(valEmail)&&valEmail.length<=80;const validarSenha=(senha,valSenha)=>senha.checkValidity()&&new RegExp(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*\W).{8,30}$/).test(valSenha);const validarPerguntaSeguranca=(perguntaSeguranca,valPerguntaSeguranca)=>perguntaSeguranca.checkValidity()&&validarID(valPerguntaSeguranca);const validarID=(id)=>Number.isInteger(id)&&id>=1